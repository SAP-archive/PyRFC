<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Installation &#8212; pyrfc 3.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/agogo.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Client scenario" href="client.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">pyrfc 3.1 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="intro.html" title="Introduction"
             accesskey="P">previous</a> |
          <a href="client.html" title="Client scenario"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h1>
<p>If <a class="reference external" href="https://support.sap.com/en/product/connectors/nwrfcsdk.html">SAP NetWeaver RFC SDK</a> and Python
are already installed on your system, you can pip install the <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyrfc</span></code> wheel from the <a class="reference external" href="https://github.com/SAP/PyRFC/releases/latest">latest release</a>,
or clone this repository and build <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyrfc</span></code> from the source code, following <a class="reference internal" href="build.html#build"><span class="std std-ref">Building from source</span></a>.</p>
<p>Use the Python 3 and the latest pyrfc and SAP NWRFC SDK release (fully backwards compatible).</p>
<section id="sap-nwrfc-sdk-installation">
<span id="install-c-connector"></span><h2>SAP NWRFC SDK Installation<a class="headerlink" href="#sap-nwrfc-sdk-installation" title="Permalink to this heading">¶</a></h2>
<p>If SAP NWRFC SDK is already installed on your system, you may verify the installation by running the <code class="docutils literal notranslate"><span class="pre">rfcexec</span></code> utility, without any parameter.</p>
<p>The error message like below indicates that SAP NWRFC SDK installation is technically correct, expecting more input parameters.
Different error message may be caused by missing Windows C++ binary for example, or another installation inconsistency:</p>
<blockquote>
<div><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/usr/local/sap/nwrfcsdk/bin
$<span class="w"> </span>./rfcexec
Error:<span class="w"> </span>Not<span class="w"> </span>all<span class="w"> </span>mandatory<span class="w"> </span>parameters<span class="w"> </span>specified
Please<span class="w"> </span>start<span class="w"> </span>the<span class="w"> </span>program<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>way:
rfcexec<span class="w"> </span>-t<span class="w"> </span>-a<span class="w"> </span>&lt;program<span class="w"> </span>ID&gt;<span class="w"> </span>-g<span class="w"> </span>&lt;gateway<span class="w"> </span>host&gt;<span class="w"> </span>-x<span class="w"> </span>&lt;gateway<span class="w"> </span>service&gt;
<span class="w">        </span>-f<span class="w"> </span>&lt;file<span class="w"> </span>with<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>allowed<span class="w"> </span>commands&gt;<span class="w"> </span>-s<span class="w"> </span>&lt;allowed<span class="w"> </span>Sys<span class="w"> </span>ID&gt;
The<span class="w"> </span>options<span class="w"> </span><span class="s2">&quot;-t&quot;</span><span class="w"> </span><span class="o">(</span>trace<span class="o">)</span>,<span class="w"> </span><span class="s2">&quot;-f&quot;</span><span class="w"> </span>and<span class="w"> </span><span class="s2">&quot;-s&quot;</span><span class="w"> </span>are<span class="w"> </span>optional.
</pre></div>
</div>
</div></blockquote>
<p>Information on where to download the SAP NWRFC SDK you may find <a class="reference external" href="https://support.sap.com/en/product/connectors/nwrfcsdk.html">here</a> .</p>
<p>The PyRFC connector relies on <em>SAP NWRFC SDK</em> and must be able to find the library
files at runtime. Therefore, you might either install the <em>SAP NWRFC SDK</em>
in the standard library paths of your system or install it in any location and tell the
Python connector where to look.</p>
<p>Here are configuration examples for Windows, Linux and macOS operating systems.</p>
<section id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Create the SAP NWRFC SDK home directory, e.g. <code class="docutils literal notranslate"><span class="pre">c:\nwrfcsdk</span></code></p></li>
<li><p>Set the SAPNWRFC_HOME env variable: <code class="docutils literal notranslate"><span class="pre">SAPNWRFC_HOME=c:\nwrfcsdk</span></code></p></li>
<li><p>Unpack the SAP NWRFC SDK archive to it, e.g. <code class="docutils literal notranslate"><span class="pre">c:\nwrfcsdk\lib</span></code> shall exist.</p></li>
<li><p>Include the <code class="docutils literal notranslate"><span class="pre">lib</span></code> directory to the library search path on Windows, i.e.
<a class="reference internal" href="#install-problems-envvar-win"><span class="std std-ref">extend</span></a> the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable.</p></li>
</ol>
<p>Add <code class="docutils literal notranslate"><span class="pre">c:\nwrfcsdk\lib</span></code> to PATH.</p>
</section>
<section id="linux">
<h3>Linux<a class="headerlink" href="#linux" title="Permalink to this heading">¶</a></h3>
<ol class="arabic">
<li><p>Create the SAP NWRFC SDK home directory, e.g. <code class="docutils literal notranslate"><span class="pre">/usr/local/sap/nwrfcsdk</span></code></p></li>
<li><p>Set the SAPNWRFC_HOME env variable: <code class="docutils literal notranslate"><span class="pre">SAPNWRFC_HOME=/usr/local/sap/nwrfcsdk</span></code></p></li>
<li><p>Unpack the SAP NWRFC SDK archive to it, e.g. <code class="docutils literal notranslate"><span class="pre">/usr/local/sap/nwrfcsdk/lib</span></code> shall exist.</p></li>
<li><p>Include the <code class="docutils literal notranslate"><span class="pre">lib</span></code> directory in the library search path:</p>
<ul>
<li><p>As <code class="docutils literal notranslate"><span class="pre">root</span></code>, create a file <code class="docutils literal notranslate"><span class="pre">/etc/ld.so.conf.d/nwrfcsdk.conf</span></code> and
enter the following values:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># include nwrfcsdk</span>
/usr/local/sap/nwrfcsdk/lib
</pre></div>
</div>
</li>
<li><p>As <code class="docutils literal notranslate"><span class="pre">root</span></code>, run the command <code class="docutils literal notranslate"><span class="pre">ldconfig</span></code>. To check if libraries are installed:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ldconfig<span class="w"> </span>-p<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>sap<span class="w"> </span><span class="c1"># should show something like:</span>
<span class="w">  </span>libsapucum.so<span class="w"> </span><span class="o">(</span>libc6,x86-64<span class="o">)</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/usr/local/sap/nwrfcsdk/lib/libsapucum.so
<span class="w">  </span>libsapnwrfc.so<span class="w"> </span><span class="o">(</span>libc6,x86-64<span class="o">)</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/usr/local/sap/nwrfcsdk/lib/libsapnwrfc.so
<span class="w">  </span>libicuuc.so.50<span class="w"> </span><span class="o">(</span>libc6,x86-64<span class="o">)</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/usr/local/sap/nwrfcsdk/lib/libicuuc.so.50
<span class="w">  </span>libicui18n.so.50<span class="w"> </span><span class="o">(</span>libc6,x86-64<span class="o">)</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/usr/local/sap/nwrfcsdk/lib/libicui18n.so.50
<span class="w">  </span>libicudecnumber.so<span class="w"> </span><span class="o">(</span>libc6,x86-64<span class="o">)</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/usr/local/sap/nwrfcsdk/lib/libicudecnumber.so
<span class="w">  </span>libicudata.so.50<span class="w"> </span><span class="o">(</span>libc6,x86-64<span class="o">)</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/usr/local/sap/nwrfcsdk/lib/libicudata.so.50
<span class="w">  </span>libgssapi_krb5.so.2<span class="w"> </span><span class="o">(</span>libc6,x86-64<span class="o">)</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/usr/lib/x86_64-linux-gnu/libgssapi_krb5.so.2
<span class="w">  </span>libgssapi.so.3<span class="w"> </span><span class="o">(</span>libc6,x86-64<span class="o">)</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/usr/lib/x86_64-linux-gnu/libgssapi.so.3
$
</pre></div>
</div>
</li>
</ul>
</li>
</ol>
</section>
<section id="macos">
<h3>macOS<a class="headerlink" href="#macos" title="Permalink to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Create the SAP NWRFC SDK root directory <code class="docutils literal notranslate"><span class="pre">/usr/local/sap/nwrfcsdk</span></code> (this location is fixed, more info below)</p></li>
<li><p>Set SAPNWRFC_HOME environment variable to that location: <code class="docutils literal notranslate"><span class="pre">SAPNWRFC_HOME=/usr/local/sap/nwrfcsdk</span></code></p></li>
<li><p>Unpack the SAP NWRFC SDK archive to it, e.g. <code class="docutils literal notranslate"><span class="pre">/usr/local/sap/nwrfcsdk/lib</span></code> shall exist.</p></li>
<li><p>Set the remote paths in SAP NWRFC SDK by running <a class="reference external" href="https://github.com/SAP/PyRFC/blob/master/ci/utils/paths_fix.sh">paths_fix.sh</a> script.</p></li>
</ol>
<p>This location is fixed to the default <code class="docutils literal notranslate"><span class="pre">/usr/local/sap/nwrfcsdk/lib</span></code> rpath, embedded into node-rfc package published on npm.</p>
<p>After moving SAP NWRFC SDK to another location on your system, the rpaths must be adjusted in SAP NWRFC SDK and in pyrfc.so libraries.</p>
<p>For SAP NWRFC SDK, set the SAPNWRFC_HOME env variable to new SAP NWRFC SDK root directory and re-run the above script.</p>
<p>For pyrfc:</p>
<blockquote>
<div><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>unzip<span class="w"> </span>unzip<span class="w"> </span>pyrfc-2.0.1-cp38-cp38-macosx_10_15_x86_64.whl
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>pyrfc
$<span class="w"> </span>install_name_tool<span class="w"> </span>-rpath<span class="w"> </span>/usr/local/sap/nwrfcsdk/lib<span class="w"> </span>&lt;new<span class="w"> </span>path&gt;<span class="w"> </span>_pyrfc.cpython-38-darwin.so
</pre></div>
</div>
</div></blockquote>
</section>
</section>
<section id="python-connector-installation">
<span id="install-python-connector"></span><h2>Python Connector Installation<a class="headerlink" href="#python-connector-installation" title="Permalink to this heading">¶</a></h2>
<p>see <a class="reference external" href="https://github.com/SAP/PyRFC#download-and-installation">README: Download and Installation</a></p>
<p>Run <code class="docutils literal notranslate"><span class="pre">python</span></code> and type <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">pyrfc</span> <span class="pre">import</span> <span class="pre">*</span></code>. If this finishes silently, without oputput, the installation was successful.</p>
<p>Using virtual environments you can isolate Python/PyRFC projects, working without administrator privileges.</p>
<section id="id2">
<h3>macOS<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<p id="install-python-macos">The macOS system version of Python is usually the older one. Using wirtual environments,
like <a class="reference external" href="https://github.com/pyenv/pyenv">pyenv</a> for example, is recommended:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pyenv<span class="w"> </span>install<span class="w"> </span><span class="m">3</span>.8.0
pyenv<span class="w"> </span>virtualenv<span class="w"> </span><span class="m">3</span>.8.0<span class="w"> </span>py380
</pre></div>
</div>
<p>Install the Python connector the same way like for Linux.</p>
</section>
</section>
<section id="problems">
<span id="install-problems"></span><h2>Problems<a class="headerlink" href="#problems" title="Permalink to this heading">¶</a></h2>
<section id="behind-a-proxy">
<h3>Behind a Proxy<a class="headerlink" href="#behind-a-proxy" title="Permalink to this heading">¶</a></h3>
<p>If you are within an internal network that accesses the internet through
an HTTP(S) proxy, some of the shell commands will fail with urlopen errors, etc.</p>
<p>Assuming that your HTTP(S) proxy could be accessed via <code class="docutils literal notranslate"><span class="pre">http://proxy:8080</span></code>, on Windows
you can communicate this proxy to your shell via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">HTTP_PROXY</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">proxy</span><span class="p">:</span><span class="mi">8080</span>
<span class="n">SET</span> <span class="n">HTTPS_PROXY</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">proxy</span><span class="p">:</span><span class="mi">8080</span>
</pre></div>
</div>
<p>or permanently set environment variables.</p>
</section>
<section id="sap-nw-rfc-library-installation">
<h3>SAP NW RFC Library Installation<a class="headerlink" href="#sap-nw-rfc-library-installation" title="Permalink to this heading">¶</a></h3>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">ImportError:</span> <span class="pre">DLL</span> <span class="pre">load</span> <span class="pre">failed:</span> <span class="pre">The</span> <span class="pre">specified</span> <span class="pre">module</span> <span class="pre">could</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">found.</span></code></p>
<p>(Windows)
This error indicates that the Python connector was not able to find the
C connector on your system. Please check, if the <code class="docutils literal notranslate"><span class="pre">lib</span></code> directory of the
C connector is in your <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImportError:</span> <span class="pre">DLL</span> <span class="pre">load</span> <span class="pre">failed:</span> <span class="pre">%1</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">a</span> <span class="pre">valid</span> <span class="pre">Win32</span> <span class="pre">application.</span></code></p>
<p>(Windows)
This error occurs when SAP NW RFC Library 64bit version is installed on a system with 32bit version Python.</p>
</li>
</ol>
</section>
<section id="environment-variables">
<h3>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading">¶</a></h3>
<section id="install-problems-envvar-win">
<span id="id3"></span><h4>Windows<a class="headerlink" href="#install-problems-envvar-win" title="Permalink to this heading">¶</a></h4>
<p>The environment variable may be set within a command prompt via the <code class="docutils literal notranslate"><span class="pre">set</span></code>
command, e.g.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">PATH=%PATH%;C:\nwrfcsdk\lib</span></code> (extend PATH with the C connector lib)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">HTTPS_PROXY=proxy:8080</span></code> (setting an proxy for HTTPS communication)</p></li>
</ul>
<p>When the command prompt is closed, the environment variable is reset. To achieve
a persistent change of the environment variable, do the following (Windows 7):</p>
<ol class="arabic simple">
<li><p>Open the Start Menu and type <code class="docutils literal notranslate"><span class="pre">environment</span></code> into the search box.</p></li>
<li><p>A window opens in which the user variables are displayed in the upper part
and the system variables in the lower part. You may select and edit
the desired variable.</p></li>
<li><p>The modified variables are used when a <em>new</em> command prompt is opened.</p></li>
</ol>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sap-nwrfc-sdk-installation">SAP NWRFC SDK Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-connector-installation">Python Connector Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#problems">Problems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Client scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Server scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building from source</a></li>
<li class="toctree-l1"><a class="reference internal" href="remarks.html">Remarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyrfc.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyrfc</span></code></a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="intro.html" title="Introduction"
              >previous</a> |
            <a href="client.html" title="Client scenario"
              >next</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/install.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, SAP.
      Last updated on 2023-07-24 15:30.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>