
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Building from source &#8212; pyrfc 2.7.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/agogo.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Remarks" href="remarks.html" />
    <link rel="prev" title="Security" href="authentication.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">pyrfc 2.7.0 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="authentication.html" title="Security"
             accesskey="P">previous</a> |
          <a href="remarks.html" title="Remarks"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="building-from-source">
<span id="build"></span><h1>Building from source<a class="headerlink" href="#building-from-source" title="Permalink to this heading">¶</a></h1>
<p>SAP NW RFC Library shall be installed as described in the <a class="reference internal" href="install.html#installation"><span class="std std-ref">Installation</span></a>. Instead of downloading and installing precompiled egg, you
need to prepare the toolchain and clone the <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyrfc</span></code> repository, so that you can build
the distribution release code and documentation.</p>
<section id="toolchain-preparation">
<h2>Toolchain preparation<a class="headerlink" href="#toolchain-preparation" title="Permalink to this heading">¶</a></h2>
<section id="linux-platform">
<h3>Linux platform<a class="headerlink" href="#linux-platform" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p><a class="reference internal" href="install.html#install-python-linux"><span class="std std-ref">Install Python, pip</span></a> and utilities:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip install cython wheel pytest sphinx
</pre></div>
</div>
</li>
<li><p><a class="reference internal" href="install.html#install-c-connector"><span class="std std-ref">Install SAP NW RFC Library</span></a></p></li>
<li><p>To get any software from the Git source control system the Git
client is required as well, use whatever your distribution has</p></li>
<li><p>The system must contain a <code class="docutils literal notranslate"><span class="pre">gcc</span></code> compiler as well as  development
header and library files as provided by your distribution</p></li>
</ul>
</section>
<section id="windows-platform">
<h3>Windows platform<a class="headerlink" href="#windows-platform" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p><a class="reference internal" href="install.html#install-python-win"><span class="std std-ref">Install Python, pip</span></a> and utilities:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip install cython wheel pytest sphinx
</pre></div>
</div>
</li>
<li><p><a class="reference internal" href="install.html#install-c-connector"><span class="std std-ref">Install SAP NW RFC Library</span></a></p></li>
<li><p>To get any software from the Git source control system the Git
client is required as well. Download and install from
<a class="reference external" href="http://code.google.com/p/msysgit/downloads/list?can=3">http://code.google.com/p/msysgit/downloads/list?can=3</a>.
During installation specify that Git runs
out of the Bash shell as you may need that shell later on.</p></li>
<li><p>Download and install the compiler toolchain, tested on Windows platforms</p>
<ul class="simple">
<li><p><a class="reference external" href="http://go.microsoft.com/?linkid=7729279">MS VisualStudio2008 Express Edition</a> or later</p></li>
<li><p><a class="reference external" href="http://www.microsoft.com/en-us/download/details.aspx?id=3138">Microsoft Windows SDK for Windows 7 and .NET Framework 3.5 SP1</a> or later</p></li>
</ul>
</li>
</ul>
</section>
<section id="macos-platform">
<h3>macOS platform<a class="headerlink" href="#macos-platform" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>Install Xcode command line tools with C++ development headers and check if <cite>uchar.h</cite> copied to $SAPNWRFC_HOME/include</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>xcode-select --install
sudo installer -pkg macOS_SDK_headers_for_macOS_10.14.pkg -target /
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="building-the-code">
<h2>Building the code<a class="headerlink" href="#building-the-code" title="Permalink to this heading">¶</a></h2>
<p>To build wheels for different Python versions, install these versions
on your system and create a virtual environment for each of these versions,
for example:</p>
<p><code class="docutils literal notranslate"><span class="pre">virtualenv</span> <span class="pre">--python=&lt;PATH</span> <span class="pre">e.g.</span> <span class="pre">c:\Python27\python.exe</span> <span class="pre">OR</span> <span class="pre">/usr/bin/python2.7&gt;</span> <span class="pre">...</span></code></p>
<p>Otherwise, follow the example below.</p>
<section id="id1">
<h3>Linux platform<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<p>Clone the repository:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/SAP/PyRFC
</pre></div>
</div>
<p>Edit <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> and set the CYTHON_VERSION</p>
<p>Build the distribution</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python setup.py clean --all
python setup.py bdist_wheel
</pre></div>
</div>
<p>The result is found in the <code class="docutils literal notranslate"><span class="pre">dist/</span></code> directory. The process has to be done on all platforms
for which we provide wheels.</p>
</section>
<section id="id2">
<h3>Windows platform<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<p>Open the <code class="docutils literal notranslate"><span class="pre">GIT</span> <span class="pre">Bash</span></code> shell and clone the repository.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/SAP/PyRFC
</pre></div>
</div>
<p>Open the <code class="docutils literal notranslate"><span class="pre">CMD</span> <span class="pre">Shell</span></code> from <code class="docutils literal notranslate"><span class="pre">Microsoft</span> <span class="pre">Windows</span> <span class="pre">SDK</span> <span class="pre">7.0</span></code> and change to cloned <code class="docutils literal notranslate"><span class="pre">pyrfc</span></code> folder.</p>
<p>Edit <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> and set the CYTHON_VERSION</p>
<p>Set env variables for the release, use /x64 for 64 bit and /x86 for 32 bit:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="nv">DISTUTILS_USE_SDK</span><span class="o">=</span><span class="m">1</span>
setenv /x64 /release
</pre></div>
</div>
<p>Build the distribution:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python setup.py clean --all
python setup.py bdist_wheel
</pre></div>
</div>
<p>Check the <code class="docutils literal notranslate"><span class="pre">pyrfc\dist</span></code> folder for a new created wheel.</p>
</section>
<section id="id3">
<h3>macOS platform<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">MACOS_UNICODE_DIR</span><span class="o">=</span>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk/usr/include/unicode
sudo ln -s <span class="nv">$MACOS_UNICODE_DIR</span> <span class="nv">$SAPNWRFC_HOME</span>/include/unicode
sudo cp <span class="nv">$MACOS_UNICODE_DIR</span>/uchar.h <span class="nv">$SAPNWRFC_HOME</span>/include/.
</pre></div>
</div>
</section>
<section id="virtual-environments">
<h3>Virtual Environments<a class="headerlink" href="#virtual-environments" title="Permalink to this heading">¶</a></h3>
<p>You may have buth 32bit and 64bit versions of Python installed on your
system and use virtual environments. This is basically possible (e.g. installing
the 32bit version on 64 bit system in <code class="docutils literal notranslate"><span class="pre">C:\Python27_32\</span></code>, but beware of modifying
the PATH variable.</p>
<p>However, the PATH variable is modified when using a virtual environment, therefore
modify the <code class="docutils literal notranslate"><span class="pre">Scripts/activate.bat</span></code> file with:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="nv">SAPNWRFC_HOME</span><span class="o">=</span>C:<span class="se">\n</span>wrfcsdk_x86
<span class="nb">set</span> <span class="nv">PATH</span><span class="o">=</span>C:<span class="se">\n</span>wrfcsdk_x86<span class="se">\l</span>ib<span class="se">\;</span>%PATH%
<span class="nb">set</span> <span class="nv">PATH</span><span class="o">=</span>%VIRTUAL_ENV%<span class="se">\S</span>cripts<span class="p">;</span>%PATH%
</pre></div>
</div>
<p>This assures that specific SAP NW RFC Library is used (e.g. 32bit in this example).
This is not required for building the distribution, but rather for importing the Python connector.</p>
<p>The build process remains the same, only before building the distribution, you need to
activate the virtual environment and assure that library paths are correct in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>.</p>
</section>
<section id="python-3">
<h3>Python 3<a class="headerlink" href="#python-3" title="Permalink to this heading">¶</a></h3>
<p>Prerequisites for building on Python 3, tested on Linux Mint and Ubuntu</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo apt-get install python3-setuptools python3-dev python-configparser
sudo pip3 install cython sphinx ipython pytest wheel
</pre></div>
</div>
</section>
</section>
<section id="building-the-documentation">
<h2>Building the documentation<a class="headerlink" href="#building-the-documentation" title="Permalink to this heading">¶</a></h2>
<p>Ensure that the lib directory of the SAP NW RFC library is in your PATH environment.</p>
<p>Change into the <code class="docutils literal notranslate"><span class="pre">doc</span></code> directory and type:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>make clean
make html
</pre></div>
</div>
<p>The result is found in <code class="docutils literal notranslate"><span class="pre">_build/html</span></code> and for other options call <code class="docutils literal notranslate"><span class="pre">make</span></code>.</p>
<ul class="simple">
<li><p>If you get an error <em>‘sphinx-build’ is not recognized as an internal or external command, operable program or batch file</em> on calling <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code>, install <code class="docutils literal notranslate"><span class="pre">sphinx</span></code></p></li>
<li><p>If you have DLL import errors (Windows), check the lib directory of the SAP NW RFC Library PATH env variable.</p></li>
</ul>
<p>The docu is hosted on GitHub Pages, a propietary solution where a git branch <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> is created
as an orphan and the output of the documentation build process (<code class="docutils literal notranslate"><span class="pre">_build/html</span></code>) is stored in that branch.
GitHub then serves these files under a special <code class="docutils literal notranslate"><span class="pre">/pages/</span></code> url.</p>
<p>To update GitHub Pages, copy everyhing under <code class="docutils literal notranslate"><span class="pre">_build/html</span></code> and overwrite the existing files in the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch root.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>cp -R _build/html ~/tmp
git checkout gh-pages
rm -Rf *.html *.js *.egg build doc _* pyrfc* *.inv .buildinfo
cp -R ~/tmp/_build/html/. .
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An additional file .nojekyll is placed in <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> to disable the default GitHub processing which breaks sphinx style folders with leading underscores.</p>
<p><code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> updates are a bit inconvenien, check if this answer helps <a class="reference external" href="http://stackoverflow.com/questions/4750520/git-branch-gh-pages">http://stackoverflow.com/questions/4750520/git-branch-gh-pages</a></p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Client scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Server scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Security</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building from source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#toolchain-preparation">Toolchain preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-code">Building the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-documentation">Building the documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="remarks.html">Remarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyrfc.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyrfc</span></code></a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="authentication.html" title="Security"
              >previous</a> |
            <a href="remarks.html" title="Remarks"
              >next</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/build.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, SAP.
      Last updated on 2022-11-28 13:14.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>